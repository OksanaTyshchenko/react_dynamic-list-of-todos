(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(9),r=n.n(c),s=n(2),a=n(1),o=(n(15),n(16),n(10)),i=(n(17),n(7)),u=n.n(i),l=n(0),d=function(e){var t=e.todos,n=e.selectUser,c=e.selectedUserId,r=Object(a.useState)(""),i=Object(s.a)(r,2),d=i[0],j=i[1],b=Object(a.useState)(""),h=Object(s.a)(b,2),p=h[0],O=h[1],f=Object(a.useState)("All"),m=Object(s.a)(f,2),x=m[0],_=m[1],v=Object(a.useState)(!1),y=Object(s.a)(v,2),N=y[0],C=y[1],T=Object(a.useCallback)(function(e,t){var n;return function(){clearTimeout(n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];n=setTimeout.apply(void 0,[e,t].concat(r))}}(O,1e3),[]),U=function(){var e=t.filter((function(e){return e.title.toLowerCase().includes(p.toLowerCase())}));switch(x){case"Active":return e.filter((function(e){return!e.completed}));case"Completed":return e.filter((function(e){return e.completed}));default:return e}}(),L=N?function(e){for(var t=Object(o.a)(e),n=t.length-1;n>0;n-=1){var c=Math.floor(Math.random()*(n+1)),r=[t[c],t[n]];t[n]=r[0],t[c]=r[1]}return t}(U):U;return Object(l.jsxs)("div",{className:"TodoList",children:[Object(l.jsx)("h2",{children:"Todos:"}),Object(l.jsx)("p",{children:"Search by title"}),Object(l.jsx)("label",{children:Object(l.jsx)("input",{type:"text",value:d,onChange:function(e){var t=e.target.value;j(t),T(t)}})}),Object(l.jsxs)("select",{value:x,onChange:function(e){var t=e.target.value;_(t)},className:"TodoList__select",children:[Object(l.jsx)("option",{children:"All"}),Object(l.jsx)("option",{children:"Active"}),Object(l.jsx)("option",{children:"Completed"})]}),Object(l.jsx)("button",{type:"button",onClick:function(){return C((function(e){return!e}))},className:"TodoList__random",children:"Randomize"}),Object(l.jsx)("div",{className:"TodoList__list-container",children:Object(l.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:L.map((function(e){var t=e.userId,r=e.completed,s=e.title,a=e.id;return Object(l.jsxs)("li",{className:u()("TodoList__item",{"TodoList__item--checked":r},{"TodoList__item--unchecked":!r}),children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"checkbox",readOnly:!0}),Object(l.jsx)("p",{children:s})]}),Object(l.jsx)("button",{"data-cy":"userButton",className:u()("TodoList__user-button button",{"TodoList__user-button--selected":t===c}),type:"button",onClick:function(){return n(t)},children:"User ".concat(t)})]},a)}))})})]})},j=(n(19),n(8)),b=n(4),h=n.n(b),p="https://mate.academy/students-api";function O(){return(O=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/todos"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(j.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/users/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){var t=e.userId,n=e.selectUser,c=Object(a.useState)(null),r=Object(s.a)(c,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){(function(e){return f.apply(this,arguments)})(t).then((function(e){return i(e)}))}),[t]),Object(l.jsxs)(l.Fragment,{children:[o&&Object(l.jsxs)("div",{className:"CurrentUser",children:[Object(l.jsx)("h2",{className:"CurrentUser__title",children:Object(l.jsx)("span",{children:"Selected user: ".concat(o.id)})}),Object(l.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:o.name}),Object(l.jsx)("p",{className:"CurrentUser__email",children:o.email}),Object(l.jsx)("p",{className:"CurrentUser__phone",children:o.phone})]}),Object(l.jsx)("button",{type:"button",onClick:function(){return n(0)},className:"CurrentUser__clear",children:"Clear"})]})},x=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(s.a)(r,2),i=o[0],u=o[1];Object(a.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){return u(e)}))}),[]);var j=function(e){c(e)};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"App__sidebar",children:Object(l.jsx)(d,{todos:i,selectUser:j,selectedUserId:n})}),Object(l.jsx)("div",{className:"App__content",children:Object(l.jsx)("div",{className:"App__content-container",children:n?Object(l.jsx)(m,{userId:n,selectUser:j}):"No user selected"})})]})};r.a.render(Object(l.jsx)(x,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.0a2d5931.chunk.js.map